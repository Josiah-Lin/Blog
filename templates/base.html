{% load staticfiles %}
{% load blog_tags %}
<!DOCTYPE html>
<html>
<head>
    <title>Josiah的博客园</title>

    <!-- meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- css -->
    <link rel="shortcut icon" type="text/css" href="/static/blogapp/img/logo.png" />
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="{% static 'blogapp/css/pace.css' %}">
    <link rel="stylesheet" href="{% static 'blogapp/css/custom.css' %}">
    <link rel="stylesheet" href="{% static 'blogapp/css/highlights/github.css' %}">
    
    <!-- js -->
    <script src="https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="{% static 'blogapp/js/pace.min.js' %}"></script>
    <script src="{% static 'blogapp/js/modernizr.custom.js' %}"></script>
    <script type="text/javascript" src="{% static 'blogapp/js/zzsc.js' %}"></script>

</head>
<style>
span.highlighted{
            color: red;
        }
.logo img{
            width: 60px;
            height: 60px;
            float: left;
            margin-top: -10px; 
            margin-right:5px; 
        }
#centered{
    width:200px;
    margin:0 auto;
}
#zzsc{width:360px;
    margin:0 auto;
}
#site-header,.widget,.post{
    background-color: #f0f0f0;
}
.cl-effect-11 a{
    text-shadow: 5px 5px 5px #808069;
}
.widget-archives a:hover{
    text-decoration: underline;
}
.widget-recent-posts{
    font-size: 20px;
    font-family: KaiTi;
    text-shadow: 2px 2px 2px #808069;
}
.widget-recent-posts a:hover{
    text-decoration: underline;
}
.widget-category a:hover{
    text-decoration: underline;
}
</style>

<script type="text/javascript">
var BeautifullMath = function () {
var obj = [], xm = 0, ym = 0, axe = 0, aye = 0, parts = 50, scr,aArr, txe, tye, nw, nh;
var colorArr = ['black','blue','red','green','purple'];
var addEvent = function (o, e, f) {
window.addEventListener ? o.addEventListener(e, f, false) : o.attachEvent('on'+e, function(){f.call(o)})
}
var resize = function () {
nw = scr.offsetWidth * .5;
nh = scr.offsetHeight * .5;
}
var init = function (id, f) {
scr = document.getElementById(id);
aArr = document.getElementById("screen").getElementsByTagName('a');
addEvent(document, 'mousemove', function(e){
e = e || window.event;
xm = e.clientX;
ym = e.clientY;
});
resize();
addEvent(window, 'resize', resize);
__init(f);
setInterval(run, 16);
}
var __init = function (f) {
for (var i=0; i<aArr.length; i++) {
var o = {};
o.p = aArr[i];
o.p.style.color = colorArr[Math.round(Math.random()*4)];
var r = i/parts, j, a, b;
j = i % parts;
a = Math.floor(j)/200+(Math.floor(j/2)%10)/5* Math.PI * 2;
b = Math.acos(-0.9+(j%4)*0.6);
r = !!f?f(r):r-r*r+.5;
var sbr = Math.sin(b) * r;
o.x = Math.sin(a) * sbr;
o.y = Math.cos(a) * sbr;
o.z = Math.cos(b) * r;
obj.push(o);
o.transform = function () {
var ax = .02 * txe,
ay = .02 * tye,
cx = Math.cos(ax),
sx = Math.sin(ax),
cy = Math.cos(ay),
sy = Math.sin(ay);
//rotation
var z = this.y * sx + this.z * cx;
this.y = this.y * cx + this.z * -sx;
this.z = this.x * -sy + z * cy;
this.x = this.x * cy + z * sy;
//3d
var scale = 1 / (1 + this.z),
x = this.x * scale * nh + nw - scale * 2,
y = this.y * scale * nh + nh - scale * 2;
//set style
var p = this.p.style;
if (x >= 0 && y >=0 && x < nw * 2 && y < nh * 2) {
var c = Math.round(256 + (-this.z * 256));
p.left = Math.round(x) + 'px';
p.top = Math.round(y) + 'px';
p.fontSize = Math.round(12*scale) + 'px';
p.zIndex = 200 + Math.floor(-this.z * 100);
p.opacity = .6 - this.z;
p.filter = 'alpha(opacity='+100*(.6-this.z)+')';
} else p.width = "0px";
}
}
}
//run function 
var run = function () {
var se = 1 / nh;
txe = (ym - axe) * se;
tye = (xm - aye) * se;
axe += txe;
aye += tye;
/* ---- anim particles ---- */
for (var i = 0, o; o = obj[i]; i++) o.transform();
}
return {init:init}
}();
onload = function () {
BeautifullMath.init('screen', function(r){
return .4;
});
}
</script>

<body>
<div class="container">
    <header id="site-header">
        <div class="row">
            <div class="col-md-4 col-sm-5 col-xs-8" style="padding-left: 0px;">
                <div class="logo">
                    <a href="{% url 'blogapp:index' %}"><img src="{% static 'blogapp/img/logo.png' %}" class="img-circle img-responsive"/></a>
                    <h1 class="text-nowrap"><a href="{% url 'blogapp:index' %}">Josiah的博客园</a></h1>
                </div>
            </div><!-- col-md-4 -->
            <div class="col-md-8 col-sm-7 col-xs-4">
                <nav class="main-nav" role="navigation">
                    <div class="navbar-header">
                        <button type="button" id="trigger-overlay" class="navbar-toggle">
                            <span class="ion-navicon"></span>
                        </button>
                    </div>

                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li class="cl-effect-11"><a href="{% url 'blogapp:index' %}" data-hover="首页">首页</a></li>
                            <li class="cl-effect-11"><a href="{% url 'blogapp:full-width' %}" data-hover="博客">博客</a></li>
                            <li class="cl-effect-11"><a href="{% url 'blogapp:about' %}" data-hover="关于">关于</a></li>
                            <li class="cl-effect-11"><a href="{% url 'blogapp:contact' %}" data-hover="联系">联系</a></li>
                        </ul>
                    </div><!-- /.navbar-collapse -->
                </nav>
                <div id="header-search-box">
                    <a id="search-menu" href="#"><span id="search-icon" class="ion-ios-search-strong"></span></a>
                    <div id="search-form" class="search-form">
                        <form role="search" method="get" id="searchform" action="{% url 'haystack_search' %}">
                            <input type="search" name="q" placeholder="搜索" required>
                            <button type="submit"><span class="ion-ios-search-strong"></span></button>
                        </form>
                    </div>
                </div>
            </div><!-- col-md-8 -->
        </div>
    </header>
</div>
<div class="copyrights">Collect from <a href="http://www.cssmoban.com/">网页模板</a></div>
<div class="copyrights">Modified by <a href="http://zmrenwu.com/">追梦人物的博客</a></div>

<div class="content-body">
    <div class="container">
        <div class="row">
            <main class="col-md-8">
                {% block main %}
                {% endblock main %}
            </main>
            <aside class="col-md-4">



<div id="zzsc"></div>

<!--效果html结束-->
    



    <div class="widget widget-recent-posts">
        <h3 class="widget-title shine">最新文章</h3>
        {% get_recent_posts as recent_post_list %}
        <ul>
           {% for post in recent_post_list %}
           <li>
               <a href="{{post.get_absolute_url }}">{{ post.title }}</a>
           </li>
           {% empty %}
           暂无文章！
           {% endfor %}
        </ul>
    </div>
    <div class="widget widget-archives" style="position:relative;z-index: 1;">
        <h3 class="widget-title shine">归档</h3>
        {% archives as date_list %}
        <ul>
            {% for date in date_list %}
            <li>
                <a href="{% url 'blogapp:archives' date.year date.month %}">{{ date.year }}年{{ date.month }}月</a>
            </li>
            {% empty %}
            暂无归档！
            {% endfor %}
        </ul>
    </div>

    <div class="widget widget-category" style="position:absolute;z-index: 1;">
        <h3 class="widget-title shine">分类</h3>
        {% get_categories as category_list %}
        <ul>
            {% for category in category_list %}
            <li>
                <a href="{% url 'blogapp:category' category.pk %}" >{{ category.name }}<span class="post-count">({{ category.num_posts }})</span></a>
            </li>
            {% empty %}
            暂无分类！
            {% endfor %}
        </ul>
    </div>
<h3 class="widget-title shine" style="position: absolute;z-index: 1;bottom: -70%;">标签云</h3>
    <div class="widget widget-tag-cloud" style="position: absolute;bottom: 280px;">
        
        
        {% get_tags as tag_list %}
        <div id="screen" class="screen">
           {% for tag in tag_list %}
           
               <a href="{% url 'blogapp:tag' tag.pk %}">{{ tag.name }}</a>
           
           {% empty %}
           暂无标签！
           {% endfor %}
        </div>
    </div>
    <div class="rss">
        <a href="{% url 'rss' %}" style="position: absolute;bottom: -800px;"><span class="ion-social-rss-outline" ></span> RSS 订阅</a>
    </div>
</aside>
        </div>
    </div>
</div>


<!-- Mobile Menu -->
<div class="overlay overlay-hugeinc" style="position: absolute;z-index: 10000;">
    <button type="button" class="overlay-close"><span class="ion-ios-close-empty"></span></button>
    <nav>
        <ul>
            <li><a href="{% url 'blogapp:index' %}">首页</a></li>
            <li><a href="{% url 'blogapp:full-width' %}">博客</a></li>
            <li><a href="{% url 'blogapp:about' %}">关于</a></li>
            <li><a href="{% url 'blogapp:contact' %}">联系</a></li>
        </ul>
    </nav>
</div>

<script src="{% static 'blogapp/js/script.js' %}"></script>

</body>
</html>
